{"uid":"52f669c9a22b6fa5","name":"test_login_and_add_city_api","fullName":"tests.e2e.test_add_city_e2e.TestAuthenticationE2ESimple#test_login_and_add_city_api","historyId":"b5839d32e8b1cbc0fbbd3db579313549","time":{"start":1758911290577,"stop":1758911290715,"duration":138},"status":"failed","statusMessage":"AssertionError: assert 401 == 200\n +  where 401 = <Response [401 Unauthorized]>.status_code","statusTrace":"self = <test_add_city_e2e.TestAuthenticationE2ESimple object at 0x7f9dda156ad0>\n\n    @pytest.mark.asyncio\n    async def test_login_and_add_city_api(self):\n        async with httpx.AsyncClient(base_url=\"http://localhost:8000\") as client:\n            with allure.step(\"Prepare login data\"):\n                login_data = {\"login\": \"admin1\", \"password\": \"$2b$12$OoiH5pmFNbJn4lj77or/9.zJvXcLMND58wxUZgSwc0nHSfme9KvAm\"}\n    \n            with allure.step(\"Send login request\"):\n                resp = await client.post(\"/api/login\", json=login_data)\n>               assert resp.status_code == 200\nE               assert 401 == 200\nE                +  where 401 = <Response [401 Unauthorized]>.status_code\n\ntests/e2e/test_add_city_e2e.py:21: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1758911290513,"stop":1758911290513,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1758911290513,"stop":1758911290513,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1758911290514,"stop":1758911290575,"duration":61},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1758911290575,"stop":1758911290575,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1758911290575,"stop":1758911290575,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1758911290576,"stop":1758911290577,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_event_loop","time":{"start":1758911290576,"stop":1758911290576,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1758911290576,"stop":1758911290576,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 401 == 200\n +  where 401 = <Response [401 Unauthorized]>.status_code","statusTrace":"self = <test_add_city_e2e.TestAuthenticationE2ESimple object at 0x7f9dda156ad0>\n\n    @pytest.mark.asyncio\n    async def test_login_and_add_city_api(self):\n        async with httpx.AsyncClient(base_url=\"http://localhost:8000\") as client:\n            with allure.step(\"Prepare login data\"):\n                login_data = {\"login\": \"admin1\", \"password\": \"$2b$12$OoiH5pmFNbJn4lj77or/9.zJvXcLMND58wxUZgSwc0nHSfme9KvAm\"}\n    \n            with allure.step(\"Send login request\"):\n                resp = await client.post(\"/api/login\", json=login_data)\n>               assert resp.status_code == 200\nE               assert 401 == 200\nE                +  where 401 = <Response [401 Unauthorized]>.status_code\n\ntests/e2e/test_add_city_e2e.py:21: AssertionError","steps":[{"name":"Prepare login data","time":{"start":1758911290600,"stop":1758911290600,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Send login request","time":{"start":1758911290600,"stop":1758911290714,"duration":114},"status":"failed","statusMessage":"AssertionError: assert 401 == 200\n +  where 401 = <Response [401 Unauthorized]>.status_code\n","statusTrace":"  File \"/home/runner/work/Testing_and_debbug/Testing_and_debbug/tests/e2e/test_add_city_e2e.py\", line 21, in test_login_and_add_city_api\n    assert resp.status_code == 200\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"event_loop::finalizer","time":{"start":1758911290767,"stop":1758911290767,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1758911290767,"stop":1758911290767,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_restore_policy","time":{"start":1758911290767,"stop":1758911290767,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1758911290767,"stop":1758911290768,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_event_loop::0","time":{"start":1758911290768,"stop":1758911290768,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"feature","value":"E2E Authentication API"},{"name":"story","value":"User Authentication Flow"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.e2e"},{"name":"suite","value":"test_add_city_e2e"},{"name":"subSuite","value":"TestAuthenticationE2ESimple"},{"name":"host","value":"runnervm3ublj"},{"name":"thread","value":"2778-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.e2e.test_add_city_e2e"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":["asyncio"]},"source":"52f669c9a22b6fa5.json","parameterValues":[]}