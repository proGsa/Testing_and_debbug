{"uid":"c29bf5e8de50c4e3","name":"test_login_and_add_city_api","fullName":"tests.e2e.test_add_city_e2e.TestCityManagementE2E#test_login_and_add_city_api","historyId":"40628060c130fd3963b5402fcc0537f9","time":{"start":1759261898610,"stop":1759261898748,"duration":138},"status":"failed","statusMessage":"AssertionError: assert 401 == 200\n +  where 401 = <Response [401 Unauthorized]>.status_code","statusTrace":"self = <test_add_city_e2e.TestCityManagementE2E object at 0x7fe430cfb390>\n\n    @pytest.mark.asyncio\n    async def test_login_and_add_city_api(self) -> None:\n        async with httpx.AsyncClient(base_url=\"http://localhost:8000\") as client:\n            with allure.step(\"Prepare login data\"):\n                login_data = {\"login\": \"admin1\", \"password\": \"123!e5T78\"}\n    \n            with allure.step(\"Send login request\"):\n                resp = await client.post(\"/api/login\", json=login_data)\n>               assert resp.status_code == TMP\nE               assert 401 == 200\nE                +  where 401 = <Response [401 Unauthorized]>.status_code\n\ntests/e2e/test_add_city_e2e.py:27: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1759261898548,"stop":1759261898608,"duration":60},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1759261898548,"stop":1759261898548,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1759261898548,"stop":1759261898548,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1759261898608,"stop":1759261898609,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1759261898608,"stop":1759261898608,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1759261898608,"stop":1759261898608,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1759261898608,"stop":1759261898608,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_event_loop","time":{"start":1759261898608,"stop":1759261898609,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 401 == 200\n +  where 401 = <Response [401 Unauthorized]>.status_code","statusTrace":"self = <test_add_city_e2e.TestCityManagementE2E object at 0x7fe430cfb390>\n\n    @pytest.mark.asyncio\n    async def test_login_and_add_city_api(self) -> None:\n        async with httpx.AsyncClient(base_url=\"http://localhost:8000\") as client:\n            with allure.step(\"Prepare login data\"):\n                login_data = {\"login\": \"admin1\", \"password\": \"123!e5T78\"}\n    \n            with allure.step(\"Send login request\"):\n                resp = await client.post(\"/api/login\", json=login_data)\n>               assert resp.status_code == TMP\nE               assert 401 == 200\nE                +  where 401 = <Response [401 Unauthorized]>.status_code\n\ntests/e2e/test_add_city_e2e.py:27: AssertionError","steps":[{"name":"Prepare login data","time":{"start":1759261898633,"stop":1759261898633,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Send login request","time":{"start":1759261898633,"stop":1759261898747,"duration":114},"status":"failed","statusMessage":"AssertionError: assert 401 == 200\n +  where 401 = <Response [401 Unauthorized]>.status_code\n","statusTrace":"  File \"/home/runner/work/Testing_and_debbug/Testing_and_debbug/tests/e2e/test_add_city_e2e.py\", line 27, in test_login_and_add_city_api\n    assert resp.status_code == TMP\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"event_loop::finalizer","time":{"start":1759261898801,"stop":1759261898801,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1759261898801,"stop":1759261898801,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_restore_policy","time":{"start":1759261898802,"stop":1759261898802,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1759261898802,"stop":1759261898802,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_event_loop::0","time":{"start":1759261898802,"stop":1759261898802,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"feature","value":"E2E City Management"},{"name":"story","value":"Login and add city flow"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.e2e"},{"name":"suite","value":"test_add_city_e2e"},{"name":"subSuite","value":"TestCityManagementE2E"},{"name":"host","value":"runnervm3ublj"},{"name":"thread","value":"2822-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.e2e.test_add_city_e2e"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":2,"unknown":0,"total":3},"items":[{"uid":"afc34fb16d14998e","status":"passed","time":{"start":1758953749608,"stop":1758953750167,"duration":559}},{"uid":"c9be4c96ecd998e9","status":"passed","time":{"start":1758951957219,"stop":1758951957751,"duration":532}}]},"tags":["asyncio"]},"source":"c29bf5e8de50c4e3.json","parameterValues":[]}